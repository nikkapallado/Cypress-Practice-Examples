"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractBrokerUrl = void 0;
async function extractBrokerUrl(driver) {
    try {
        const selector = driver.isIOS
            ? '//XCUIElementTypeOther[@name="Applitools_View"]'
            : driver.isAndroid
                ? '//android.widget.TextView[@content-desc="Applitools_View"]'
                : null;
        if (!selector)
            return null;
        const element = await driver.element({
            type: 'xpath',
            selector,
        });
        const result = JSON.parse(await element.getText());
        return result.nextPath;
    }
    catch (error) {
        return null;
    }
}
exports.extractBrokerUrl = extractBrokerUrl;
